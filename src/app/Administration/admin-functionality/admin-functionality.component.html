<ion-content class="page-containerOn project-wrapper ion-padding">
  <p class="page-header mb-8">
    <a routerLink="/admin" (click)="adminManagement()">Admin Management /</a>
    Manage Data Lists
  </p>
  <div class="manage-main-block">
    <h2>Manage Data Lists</h2>
    <p class="sub-text">Add, edit, or remove organizational fields used across the system.</p>

    <!-- TABS -->
    <ul class="custom-btn-tabs mb-15">
      <li [class.active]="activeTab==='locations'" (click)="setTab('locations')">Locations</li>
      <li [class.active]="activeTab==='departments'" (click)="setTab('departments')">Departments</li>
      <li [class.active]="activeTab==='designations'" (click)="setTab('designations')">Designations</li>
      <li [class.active]="activeTab==='businessUnits'" (click)="setTab('businessUnits')">Business Units</li>
      <li [class.active]="activeTab==='shifts'" (click)="setTab('shifts')">Shifts</li>
      <li [class.active]="activeTab==='weeklyOffPolicies'" (click)="setTab('weeklyOffPolicies')">Weekly Off Policies
      </li>
      <li [class.active]="activeTab==='announcements'" (click)="setTab('announcements')">Announcements</li>

    </ul>

    <!-- ========== LOCATIONS ========== -->
    <div class="tab-card" *ngIf="activeTab==='locations'">
      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="7" class="tab-content-list mr-15">
            <div class="tab-header">
              <p class="header-title">Locations <span>{{locations.length}}</span></p>
              <!-- <button class="btn-primary" (click)="openAddLocation()">+ Add Location</button> -->
            </div>

            <ion-grid class="table-block ion-no-padding">
              <ion-row class="table-header">
                <ion-col size="10">
                  Location
                </ion-col>
                <ion-col size="2">
                  Actions
                </ion-col>
              </ion-row>

              <ion-row class="table-row-list" *ngFor="let item of paginatedLocations">
                <ion-col size="10">
                  {{item.name}}
                </ion-col>
                <ion-col size="2">
                  <button class="mr-8 edit-btn" *ngIf="isAdminOrHR" (click)="editLocation(item)"><ion-img
                      src="../../../assets/edit-gray.svg"></ion-img></button>
                  <button class="delete-btn" *ngIf="isAdminOrHR" (click)="deleteLocation(item.id)"><ion-img
                      src="../../../assets/trash.svg"></ion-img></button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-col>
          <ion-col size="4" class="tab-content-form mr-15">
            <p class="form-header">{{ editingLocationId ? 'Update Location' : 'Add New Location' }}</p>
            <p class="form-subheader">{{ editingLocationId ? 'Update the selected Location' : 'Create a new Location in your organization' }}</p>
     
            <ion-list lines="none">
              <ion-item>
                <ion-label position="stacked">Location Name</ion-label>
                <ion-input [(ngModel)]="locationName" placeholder="Location name"></ion-input>
              </ion-item>
            </ion-list>
            <div class="row-center">
              <ion-button class="primary-outline-btn" *ngIf="isAdminOrHR" (click)="cancelLocation()">Cancel</ion-button>
              <ion-button class="primary-btn" *ngIf="isAdminOrHR && !editingLocationId"
                (click)="saveLocation()">Save</ion-button>
              <ion-button class="primary-btn" *ngIf="isAdminOrHR && editingLocationId"
                (click)="updateLocation()">Update</ion-button>
            </div>
          </ion-col>
          <ion-col size="7" class="pagination-row mt-10" *ngIf="totalLocationPages > 1">
          <ion-button fill="clear" (click)="goToPreviousLocationPage()" [disabled]="currentLocationPage === 1">
            <ion-icon name="chevron-back-outline"></ion-icon>
          </ion-button>

          <span class="page-info">
            {{ currentLocationPage }} of {{ totalLocationPages }}
          </span>

          <ion-button fill="clear"  (click)="goToNextLocationPage()" [disabled]="currentLocationPage === totalLocationPages">
            <ion-icon name="chevron-forward-outline"></ion-icon>
          </ion-button>
        </ion-col>
        </ion-row>
      </ion-grid>
    </div>


    <!-- ========== DEPARTMENTS ========== -->
    <div class="tab-card" *ngIf="activeTab==='departments'">

      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="7" class="tab-content-list mr-15">
            <div class="tab-header">
              <p class="header-title">Department <span>{{departments.length}}</span></p>
            </div>

            <ion-grid class="table-block ion-no-padding">
              <ion-row class="table-header">
                <ion-col size="10">
                  Department
                </ion-col>
                <ion-col size="2">
                  Actions
                </ion-col>
              </ion-row>

              <ion-row class="table-row-list" *ngFor="let item of paginatedDepartments">
                <ion-col size="10">
                  {{item.name}}
                </ion-col>
                <ion-col size="2">
                  <button class="mr-8 edit-btn" *ngIf="isAdminOrHR" (click)="editDepartment(item)"><ion-img
                      src="../../../assets/edit-gray.svg"></ion-img></button>
                  <button class="delete-btn" *ngIf="isAdminOrHR" (click)="deleteDepartment(item.id)"><ion-img
                      src="../../../assets/trash.svg"></ion-img></button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-col>
          <ion-col size="4" class="tab-content-form mr-15">
              <p class="form-header">{{ editingDepartmentId ? 'Update Department' : 'Add New Department' }}</p>
              <p class="form-subheader">{{ editingDepartmentId ? 'Update the selected Department' : 'Create a new Department in your organization' }}</p>
          <ion-list lines="none">
              <ion-item>
                <ion-label position="stacked">Department Name</ion-label>
                <ion-input [(ngModel)]="departmentName" placeholder="Department name"></ion-input>
              </ion-item>
            </ion-list>
            <div class="row-center">
              <ion-button class="primary-outline-btn" *ngIf="isAdminOrHR"
                (click)="cancelDepartment()">Cancel</ion-button>
              <ion-button class="primary-btn" *ngIf="isAdminOrHR && !editingDepartmentId"
                (click)="saveDepartment()">Save</ion-button>
              <ion-button class="primary-btn" *ngIf="isAdminOrHR && editingDepartmentId"
                (click)="updateDepartment()">Update</ion-button>
            </div>
          </ion-col>
          <ion-col size="7" class="pagination-row mt-10" *ngIf="depttotalPages > 1">
          <ion-button fill="clear" (click)="goToPreviousdeptPage()" [disabled]="deptcurrentPage === 1">
            <ion-icon name="chevron-back-outline"></ion-icon>
          </ion-button>

          <span class="page-info">
            {{ deptcurrentPage }} of {{ depttotalPages }}
          </span>

          <ion-button fill="clear"  (click)="goToNextdeptPage()" [disabled]="deptcurrentPage === depttotalPages">
            <ion-icon name="chevron-forward-outline"></ion-icon>
          </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
          
    </div>


    <!-- ========== DESIGNATIONS ========== -->
    <div class="tab-card" *ngIf="activeTab==='designations'">
      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="7" class="tab-content-list mr-15">
            <div class="tab-header">
              <p class="header-title">Designations <span>{{designations.length}}</span></p>
            </div>

            <ion-grid class="table-block ion-no-padding">
              <ion-row class="table-header">
                <ion-col size="10">Name</ion-col>
                <ion-col size="2">Actions</ion-col>
              </ion-row>

              <ion-row class="table-row-list" *ngFor="let item of paginatedDesignations">
                <ion-col size="10">{{item.name}}</ion-col>
                <!-- <ion-col size="4">
                  <ion-button class="primary-outline-btn" *ngIf="isAdminOrHR"
                    (click)="editDesignation(item)">Edit</ion-button>
                  <ion-button class="danger-outline-btn" *ngIf="isAdminOrHR"
                    (click)="deleteDesignation(item.id)">Delete</ion-button>
                </ion-col> -->
                  <ion-col size="2">
                  <button class="mr-8 edit-btn" *ngIf="isAdminOrHR" (click)="editDesignation(item)"><ion-img
                      src="../../../assets/edit-gray.svg"></ion-img></button>
                  <button class="delete-btn" *ngIf="isAdminOrHR" (click)="deleteDesignation(item.id)"><ion-img
                      src="../../../assets/trash.svg"></ion-img></button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-col>

          <ion-col size="4" class="tab-content-form mr-15">
            <p class="form-header">{{ editingDesignationId ? 'Update Designation' : 'Add New Designation' }}</p>
            <p class="form-subheader">{{ editingDesignationId ? 'Update the selected designation' : 'Create a new Designation in your organization' }}</p>
            <ion-list lines="none">
              <ion-item>
                <ion-label position="stacked">Designation Name</ion-label>
                <ion-input [(ngModel)]="designationName" placeholder="Designation name"></ion-input>
              </ion-item>
            </ion-list>
            <div class="row-center">
              <ion-button class="primary-outline-btn" *ngIf="isAdminOrHR"
                (click)="cancelDesignation()">Cancel</ion-button>
              <ion-button class="primary-btn" *ngIf="isAdminOrHR && !editingDesignationId"
                (click)="saveDesignation()">Save</ion-button>
              <ion-button class="primary-btn" *ngIf="isAdminOrHR && editingDesignationId"
                (click)="updateDesignation()">Update</ion-button>
            </div>
          </ion-col>
          <ion-col size="7" class="pagination-row mt-10" *ngIf="designationTotalPages > 1" >
          <ion-button fill="clear" (click)="goToPreviousDesignationPage()" [disabled]="designationCurrentPage === 1" >
          <ion-icon name="chevron-back-outline"></ion-icon>
          </ion-button>

          <span class="page-info">
            {{ designationCurrentPage }} of {{ designationTotalPages }}
          </span>
          <ion-button fill="clear" (click)="goToNextDesignationPage()" [disabled]="designationCurrentPage === designationTotalPages"  >
          <ion-icon name="chevron-forward-outline"></ion-icon>
          </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>

    <!-- ========== SHIFTS ========== -->
    <div class="tab-card" *ngIf="activeTab==='shifts'">
      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="7" class="tab-content-list mr-15">
            <div class="tab-header">
              <p class="header-title">Shift Policies <span>{{shiftPolicies.length}}</span></p>
            </div>

            <ion-grid class="table-block ion-no-padding">
              <ion-row class="table-header">
                <ion-col size="3">
                  Shift Name
                </ion-col>
                <ion-col size="2">
                  Start Time
                </ion-col>
                <ion-col size="2">
                  End Time
                </ion-col>
                <ion-col size="3">
                  Description
                </ion-col>
                <ion-col size="2">
                  Actions
                </ion-col>
              </ion-row>

              <ion-row class="table-row-list" *ngFor="let item of paginatedShiftPolicies">
                <ion-col size="3">
                  {{item.name}}
                </ion-col>
                <ion-col size="2">
                  {{item.start_time}}
                </ion-col>
                <ion-col size="2">
                  {{item.end_time}}
                </ion-col>
                <ion-col size="3">
                  {{item.description}}
                </ion-col>
                <ion-col size="2">
                  <button *ngIf="isAdminOrHR" class="edit-btn" (click)="editShift(item)"><ion-img
                      src="../../../assets/edit-gray.svg"></ion-img></button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-col>
          <ion-col size="4" class="tab-content-form  mr-15">
            <div class="tab-hgt">
              <p class="form-header">{{ editingShiftId ? 'Update Shift' : 'Add New Shift' }}</p>
              <p class="form-subheader">{{ editingShiftId ? 'Update the selected Shift' : 'Create a new Shift in your organization' }}</p>
       
         <ion-list lines="none">
              <ion-item>
                <ion-label position="stacked">Shift Name</ion-label>
                <ion-input [(ngModel)]="shiftForm.name" placeholder="Shift name"></ion-input>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Start Time</ion-label>
                <ion-input type="time" [(ngModel)]="shiftForm.start_time"></ion-input>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">End Time</ion-label>
                <ion-input type="time" [(ngModel)]="shiftForm.end_time"></ion-input>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Break minutes</ion-label>
                <ion-input type="number" [(ngModel)]="shiftForm.break_duration_minutes"
                  placeholder="Break minutes"></ion-input>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Description</ion-label>
                <ion-textarea [(ngModel)]="shiftForm.description" placeholder="Description"></ion-textarea>
              </ion-item>



            </ion-list>
            <div class="row-center">
              <ion-button class="primary-outline-btn" *ngIf="isAdminOrHR" (click)="cancelShift()">Cancel</ion-button>
              <ion-button class="primary-btn" *ngIf="isAdminOrHR && !editingShiftId"
                (click)="saveShift()">Save</ion-button>
              <ion-button class="primary-btn" *ngIf="isAdminOrHR && editingShiftId"
                (click)="updateShift()">Update</ion-button>
            </div>
            </div>
          </ion-col>
          <ion-col size="7" class="pagination-row mt-10">
          <ion-button fill="clear" (click)="goToPreviousShiftPage()" [disabled]="shiftCurrentPage === 1">
          <ion-icon name="chevron-back-outline"></ion-icon>
          </ion-button>

        <span>{{ shiftCurrentPage }} / {{ shiftTotalPages }}</span>

        <ion-button fill="clear" (click)="goToNextShiftPage()" [disabled]="shiftCurrentPage === shiftTotalPages">
         <ion-icon name="chevron-forward-outline"></ion-icon>
        </ion-button>
        </ion-col>
        
        </ion-row>
      </ion-grid>

    </div>

    <!-- ========== WEEKLY OFF POLICIES ========== -->
    <div class="tab-card" *ngIf="activeTab==='weeklyOffPolicies'">
      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="7" class="tab-content-list mr-15">
            <div class="tab-header">
              <p class="header-title">Weekly Off Policies <span>{{weeklyOffPolicies.length}}</span></p>
            </div>
            <ion-grid class="table-block ion-no-padding">
              <ion-row class="table-header">
                <ion-col size="8">Weekly Off Policy</ion-col>
                <ion-col size="4">Actions</ion-col>
              </ion-row>
              <ion-row class="table-row-list" *ngFor="let item of paginatedWeeklyOffPolicies">
                <ion-col size="10">
                  {{item.name}} <span *ngIf="item.policy_code">({{item.policy_code}})</span>
                </ion-col>
                <ion-col size="2">
                  <button class="mr-8 edit-btn" *ngIf="isAdminOrHR" (click)="editWeeklyOffPolicy(item)"><ion-img
                      src="../../../assets/edit-gray.svg"></ion-img></button>
                  <button class="delete-btn" *ngIf="isAdminOrHR" (click)="deleteWeeklyOffPolicy(item.id)"><ion-img
                      src="../../../assets/trash.svg"></ion-img></button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-col>
          <ion-col size="4" class="tab-content-form mr-15">
            <div class="tab-hgt">
             <p class="form-header">{{ editingWeeklyOffPolicyId ? 'Update Weekly Off Policy' : 'Add New Weekly Off Policy' }}</p>
            <p class="form-subheader">{{ editingWeeklyOffPolicyId ? 'Update the selected Weekly Off Policy' : 'Create a new Weekly Off Policy in your organization' }}</p>
     
            <ion-list lines="none">
              <ion-item>
                <ion-label position="stacked">Policy Name</ion-label>
                <ion-input [(ngModel)]="weeklyOffPolicyForm.name" placeholder="Policy name"></ion-input>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Policy Code</ion-label>
                <ion-input [(ngModel)]="weeklyOffPolicyForm.policy_code" placeholder="Policy code"></ion-input>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Description</ion-label>
                <ion-input [(ngModel)]="weeklyOffPolicyForm.description" placeholder="Description"></ion-input>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Effective Date</ion-label>
                <ion-input type="date" [(ngModel)]="weeklyOffPolicyForm.effective_date"></ion-input>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Is Active</ion-label>
                <ion-select [(ngModel)]="weeklyOffPolicyForm.is_active">
                  <ion-select-option [value]="1">Active</ion-select-option>
                  <ion-select-option [value]="0">Inactive</ion-select-option>
                </ion-select>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Sunday Off</ion-label>
                <ion-select [(ngModel)]="weeklyOffPolicyForm.sunday_off">
                  <ion-select-option [value]="1">Yes</ion-select-option>
                  <ion-select-option [value]="0">No</ion-select-option>
                </ion-select>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Monday Off</ion-label>
                <ion-select [(ngModel)]="weeklyOffPolicyForm.monday_off">
                  <ion-select-option [value]="1">Yes</ion-select-option>
                  <ion-select-option [value]="0">No</ion-select-option>
                </ion-select>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Tuesday Off</ion-label>
                <ion-select [(ngModel)]="weeklyOffPolicyForm.tuesday_off">
                  <ion-select-option [value]="1">Yes</ion-select-option>
                  <ion-select-option [value]="0">No</ion-select-option>
                </ion-select>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Wednesday Off</ion-label>
                <ion-select [(ngModel)]="weeklyOffPolicyForm.wednesday_off">
                  <ion-select-option [value]="1">Yes</ion-select-option>
                  <ion-select-option [value]="0">No</ion-select-option>
                </ion-select>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Thursday Off</ion-label>
                <ion-select [(ngModel)]="weeklyOffPolicyForm.thursday_off">
                  <ion-select-option [value]="1">Yes</ion-select-option>
                  <ion-select-option [value]="0">No</ion-select-option>
                </ion-select>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Friday Off</ion-label>
                <ion-select [(ngModel)]="weeklyOffPolicyForm.friday_off">
                  <ion-select-option [value]="1">Yes</ion-select-option>
                  <ion-select-option [value]="0">No</ion-select-option>
                </ion-select>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Saturday Off</ion-label>
                <ion-select [(ngModel)]="weeklyOffPolicyForm.saturday_off">
                  <ion-select-option [value]="1">Yes</ion-select-option>
                  <ion-select-option [value]="0">No</ion-select-option>
                </ion-select>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Is Payable</ion-label>
                <ion-select [(ngModel)]="weeklyOffPolicyForm.is_payable">
                  <ion-select-option [value]="1">Yes</ion-select-option>
                  <ion-select-option [value]="0">No</ion-select-option>
                </ion-select>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Holiday Overlap Rule</ion-label>
                <ion-input [(ngModel)]="weeklyOffPolicyForm.holiday_overlap_rule" placeholder="ignore"></ion-input>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Sandwich Rule</ion-label>
                <ion-select [(ngModel)]="weeklyOffPolicyForm.sandwich_rule">
                  <ion-select-option [value]="1">Yes</ion-select-option>
                  <ion-select-option [value]="0">No</ion-select-option>
                </ion-select>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Minimum Work Days</ion-label>
                <ion-input type="number" [(ngModel)]="weeklyOffPolicyForm.minimum_work_days"
                  placeholder="5"></ion-input>
              </ion-item>
            </ion-list>
            <div class="row-center">
              <ion-button class="primary-outline-btn" *ngIf="isAdminOrHR"
                (click)="cancelWeeklyOffPolicy()">Cancel</ion-button>
              <ion-button class="primary-btn" *ngIf="isAdminOrHR && !editingWeeklyOffPolicyId"
                (click)="saveWeeklyOffPolicy()">Save</ion-button>
              <ion-button class="primary-btn" *ngIf="isAdminOrHR && editingWeeklyOffPolicyId"
                (click)="updateWeeklyOffPolicy()">Update</ion-button>
            </div>
            </div>
          </ion-col>
          <ion-col size="7" class="pagination-row mt-10">
          <ion-button fill="clear"  (click)="goToPreviousWeeklyOffPage()"  [disabled]="weeklyOffCurrentPage === 1">
           <ion-icon name="chevron-back-outline"></ion-icon>
          </ion-button>

          <span>{{ weeklyOffCurrentPage }} / {{ weeklyOffTotalPages }}</span>

          <ion-button fill="clear" (click)="goToNextWeeklyOffPage()"  [disabled]="weeklyOffCurrentPage === weeklyOffTotalPages">
           <ion-icon name="chevron-forward-outline"></ion-icon>
          </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>

    <!-- ========== ANNOUNCEMENTS ========== -->
    <div class="tab-card" *ngIf="activeTab==='announcements'">

      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="7" class="tab-content-list mr-15">
            <div class="tab-header">
              <p class="header-title">Announcements <span>{{announcements.length}}</span></p>
            </div>

            <ion-grid class="table-block ion-no-padding">
              <ion-row class="table-header">
                <ion-col size="3">
                  Title
                </ion-col>
                <ion-col size="3">
                  Description
                </ion-col>
                <ion-col size="2">
                  Start Date
                </ion-col>
                <ion-col size="2">
                  End Date
                </ion-col>
                <ion-col size="2">
                  Actions
                </ion-col>
              </ion-row>

              <ion-row class="table-row-list" *ngFor="let item of paginatedAnnouncements">
                <ion-col size="3">
                  {{item.title}}
                </ion-col>
                <ion-col size="3">
                  {{item.body}}
                </ion-col>
                <ion-col size="2">
                  {{item.created_at | date}}
                </ion-col>
                <ion-col size="2">
                  {{item.ends_at | date}}
                </ion-col>

                <ion-col size="2">
                  <button class="mr-8" *ngIf="isAdminOrHR" class="edit-btn" (click)="editAnnouncement(item)"><ion-img
                      src="../../../assets/edit-gray.svg"></ion-img></button>
                  <button *ngIf="isAdminOrHR" class="delete-btn" (click)="deleteAnnouncement(item.id)"><ion-img
                      src="../../../assets/trash.svg"></ion-img></button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-col>
          <ion-col size="4" class="tab-content-form mr-15">
            <div class="tab-hgt">
            <p class="form-header">{{ editingAnnouncementId ? 'Update Announcement' : 'Add New Announcement' }}</p>
            <p class="form-subheader">{{ editingAnnouncementId ? 'Update the selected Announcement' : 'Create a new Announcement in your organization' }}</p>
     
            <ion-list lines="none">
              <ion-item>
                <ion-label position="stacked">Title</ion-label>
                <ion-input [(ngModel)]="announcementForm.title" placeholder="Title"></ion-input>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Message</ion-label>
                <ion-textarea [(ngModel)]="announcementForm.body" placeholder="Message"></ion-textarea>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">Start Date</ion-label>
                <ion-input type="datetime-local" [(ngModel)]="announcementForm.starts_at"></ion-input>
              </ion-item>
              <ion-item>
                <ion-label position="stacked">End Date</ion-label>
                <ion-input type="datetime-local" [(ngModel)]="announcementForm.ends_at"></ion-input>
              </ion-item>
            </ion-list>
            <div class="row-center">
              <ion-button class="primary-outline-btn" *ngIf="isAdminOrHR"
                (click)="cancelAnnouncement()">Cancel</ion-button>
              <ion-button class="primary-btn" *ngIf="isAdminOrHR && !editingAnnouncementId"
                (click)="saveAnnouncement()">Save</ion-button>
              <ion-button class="primary-btn" *ngIf="isAdminOrHR && editingAnnouncementId"
                (click)="updateAnnouncement()">Update</ion-button>
            </div>
            </div>
          </ion-col>
          <ion-col size="7" class="pagination-row mt-10">
          <ion-button fill="clear" (click)="goToPreviousAnnouncementPage()" [disabled]="announcementCurrentPage === 1">
            <ion-icon name="chevron-back-outline"></ion-icon>
          </ion-button>

          <span>
            {{ announcementCurrentPage }} / {{ announcementTotalPages }}
          </span>

          <ion-button fill="clear" (click)="goToNextAnnouncementPage()" [disabled]="announcementCurrentPage === announcementTotalPages">
            <ion-icon name="chevron-forward-outline"></ion-icon>
          </ion-button>
          </ion-col>

        </ion-row>
      </ion-grid>
    </div>

    <!-- ========== BUSINESS UNITS ========== -->
    <div class="tab-card" *ngIf="activeTab==='businessUnits'">
      <ion-grid class="ion-no-padding">
        <ion-row>
          <ion-col size="7" class="tab-content-list mr-15">
            <div class="tab-header">
              <p class="header-title">Business Units <span>{{businessUnits.length}}</span></p>

            </div>

            <ion-grid class="table-block ion-no-padding">
              <ion-row class="table-header">
                <ion-col size="10">Name</ion-col>
                <ion-col size="2">Actions</ion-col>
              </ion-row>

              <ion-row class="table-row-list" *ngFor="let item of paginatedBusinessUnits">
                <ion-col size="10">{{item.name}}</ion-col>
                <!-- <ion-col size="2">
                  <ion-button class="primary-outline-btn" *ngIf="isAdminOrHR"
                    (click)="editBusinessUnit(item)">Edit</ion-button>
                  <ion-button class="danger-outline-btn" *ngIf="isAdminOrHR"
                    (click)="deleteBusinessUnit(item.id)">Delete</ion-button>
                </ion-col> -->
                 <ion-col size="2">
                  <button class="mr-8 edit-btn" *ngIf="isAdminOrHR" (click)="editBusinessUnit(item)"><ion-img
                      src="../../../assets/edit-gray.svg"></ion-img></button>
                  <button class="delete-btn" *ngIf="isAdminOrHR" (click)="deleteBusinessUnit(item.id)"><ion-img
                      src="../../../assets/trash.svg"></ion-img></button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-col>

          <ion-col size="4" class="tab-content-form mr-15">
            <p class="form-header">{{ editingBusinessUnitId ? 'Update Business Unit' : 'Add New Business Unit' }}</p>
            <p class="form-subheader">{{ editingBusinessUnitId ? 'Update the selected Business Unit' : 'Create a new Business Unit in your organization' }}</p>
     
            <ion-list lines="none">
              <ion-item>
                <ion-label position="stacked">Business Unit Name</ion-label>
                <ion-input [(ngModel)]="businessUnitName" placeholder="Business Unit name"></ion-input>
              </ion-item>
            </ion-list>
            <div class="row-center">
              <ion-button class="primary-outline-btn" *ngIf="isAdminOrHR"
                (click)="cancelBusinessUnit()">Cancel</ion-button>
              <ion-button class="primary-btn" *ngIf="isAdminOrHR && !editingBusinessUnitId"
                (click)="saveBusinessUnit()">Save</ion-button>
              <ion-button class="primary-btn" *ngIf="isAdminOrHR && editingBusinessUnitId"
                (click)="updateBusinessUnit()">Update</ion-button>
            </div>
          </ion-col>
          <ion-col size="7" class="pagination-row ion-text-center mt-10" >
            <button class="pagination-btn" (click)="goToPreviousBusinessUnitPage()" [disabled]="businessUnitCurrentPage === 1">
             <ion-icon name="chevron-back-outline"></ion-icon>
            </button>

            <span>
              {{ businessUnitCurrentPage }} / {{ businessUnitTotalPages }}
            </span>

            <button class="pagination-btn" (click)="goToNextBusinessUnitPage()" [disabled]="businessUnitCurrentPage === businessUnitTotalPages">
             <ion-icon name="chevron-forward-outline"></ion-icon>
            </button>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
  </div>
</ion-content>